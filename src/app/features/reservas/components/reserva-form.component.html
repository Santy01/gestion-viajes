<div class="container py-4">
  <h2>{{ isEdit ? 'Editar' : 'Nueva' }} reserva</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="mt-3">
    <div class="row g-3">
      <div class="col-12 col-md-6">
        <label class="form-label">Turista</label>
        <select class="form-select" formControlName="turistaId">
          <option [ngValue]="0">Seleccione...</option>
          <option *ngFor="let t of turistas" [ngValue]="t.id">{{ t.nombre }}</option>
        </select>
      </div>

      <div class="col-12 col-md-6">
        <label class="form-label">Destino</label>
        <select class="form-select" formControlName="destinoId">
          <option [ngValue]="0">Seleccione...</option>
          <option *ngFor="let d of destinos" [ngValue]="d.id">{{ d.nombre }}</option>
        </select>
      </div>

      <div class="col-12 col-md-6" formGroupName="fechas">
        <label class="form-label">Fecha inicio</label>
        <input class="form-control" type="date" formControlName="fechaInicio">
        <div class="text-danger small" *ngIf="fechaInicioCtrl?.touched && fechaInicioCtrl?.invalid">Requerida</div>
      </div>
      <div class="col-12 col-md-6" formGroupName="fechas">
        <label class="form-label">Fecha fin</label>
        <input class="form-control" type="date" formControlName="fechaFin">
        <div class="text-danger small" *ngIf="(fechaFinCtrl?.touched && fechaFinCtrl?.invalid) || form.get('fechas')?.errors?.['dateRange']">
          {{ form.get('fechas')?.errors?.['dateRange'] || 'Requerida' }}
        </div>
      </div>

      <div class="col-12 col-md-6">
        <label class="form-label">Cantidad de personas</label>
        <input class="form-control" type="number" formControlName="cantidadPersonas" min="1">
      </div>
    </div>

    <div class="mt-4 d-flex gap-2">
      <button class="btn btn-primary" [disabled]="form.invalid">{{ isEdit ? 'Guardar cambios' : 'Crear' }}</button>
      <a class="btn btn-secondary" routerLink="/reservas">Cancelar</a>
    </div>
  </form>
</div>
